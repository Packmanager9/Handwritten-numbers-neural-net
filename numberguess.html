<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <link rel="stylesheet" type="text/css" href="styles.css">
</head>

<script>
    let bigradius = 14
    </script>
<div class="gamepage-wrapper">

    <!-- Basic header. Should hold simple branding and navigation. -->
    <header class="gamepage-header">
        <!-- Image provided by Eucalyp Studio in Artificial Intelligence from https://www.iconfinder.com/iconsets/artificial-intelligence-6 -->
        <!-- <img id="site-logo" src="assets/iconfinder_ArtificialIntelligence29_2890576_blackwhite.png"> -->
        <ul class="nav-content">
            <!-- <li class="nav-list-item"><a class="nav-link-text" href="">Home</a></li> -->
            <li class="nav-list-item"><a class="nav-link-text" href="http://ditzbitz.com/games.html">Games</a></li>
            <!-- <li class="nav-list-item"><a class="nav-link-text" href="https://www.linkedin.com/in/cole-ditzler-41b160133/" target="_blank">About</a></li> -->
        </ul>
    </header>

    <!-- Container for page content. Contains and aligns instructions, game, and ads. -->
    <div class="game-content-container">

        <!-- Left side banner. Should contain instuctions for the game. -->
        <aside class="gamepage-left-aside">
            <h2>Number Reader</h2>
            <ul>
                <li> '#DCDC28'' will try to guess what digit you wrote.</li>
                <li> Press 'x' to clear.</li>
                <li> Press 'f' to toggle the filter. </li>
                <li> Each filter looks for one digit.</li>
                <li id="number"> you wrote: </li>
                <li id="filter"> Filter: auto </li>
                <!-- <input step="1"type="range" min="1" max="16" value="2" class="slider-squarex"id="rot"> 
            <label for="rot">Angles</label> -->
            <!-- <br>
            <input step=".1"type="range" min=".5" max="25" value="3" class="slider-squarex"id="size"> 
        <label for="size">Width</label>   -->
        <!-- <br> -->
          <input  hidden = "true"  style="width: 40%"  type="text" id = "color">   <label  hidden = "true"  for="color">Color</label>
          <br>
          <li> It sees this small image. </li>
          <canvas id="example" width="28" height="28"></canvas>
          <!-- <button id="undo">Undo</button> -->
          <br>
          <!-- <button id="redo">Redo</button> -->
          <br>
          <!-- <button id="randomcolor">Color Randomizer</button> -->

            </ul>
        </aside>

        <!-- Game container. Holds the game for this page scaled to fit.  -->

        <div class="game-container">

            <div id="dog-image-container">

                <canvas id="canvas" width="308" height="392"></canvas>
                <canvas id="sees" width="308" height="392"></canvas>

                <script src="18cleanmanual.js"></script>
                <!-- <script src="fitter25.js"></script> -->
                <!-- <script src="3678.js"></script>
                <script src="7399relu.js"></script>
                <script src="65 relu.js"></script> -->
                <script src="4161x.js"></script>
                <!-- <script src="symmetry.js"></script> -->
                <!-- <script src="4161.js"></script> -->
                <!-- <script src="4161x.js"></script> -->


    <script></script><script
    src="https://code.jquery.com/jquery-3.5.1.js"
    integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
    crossorigin="anonymous"></script>
    <script>
     $.throttle = jq_throttle = function( delay, no_trailing, callback, debounce_mode ) {
    // After wrapper has stopped being called, this timeout ensures that
    // `callback` is executed at the proper times in `throttle` and `end`
    // debounce modes.
    var timeout_id,
      
      // Keep track of the last time `callback` was executed.
      last_exec = 0;
    
    // `no_trailing` defaults to falsy.
    if ( typeof no_trailing !== 'boolean' ) {
      debounce_mode = callback;
      callback = no_trailing;
      no_trailing = undefined;
    }
    
    // The `wrapper` function encapsulates all of the throttling / debouncing
    // functionality and when executed will limit the rate at which `callback`
    // is executed.
    function wrapper() {
      var that = this,
        elapsed = +new Date() - last_exec,
        args = arguments;
      
      // Execute `callback` and update the `last_exec` timestamp.
      function exec() {
        last_exec = +new Date();
        callback.apply( that, args );
      };
      
      // If `debounce_mode` is true (at_begin) this is used to clear the flag
      // to allow future `callback` executions.
      function clear() {
        timeout_id = undefined;
      };
      
      if ( debounce_mode && !timeout_id ) {
        // Since `wrapper` is being called for the first time and
        // `debounce_mode` is true (at_begin), execute `callback`.
        exec();
      }
      
      // Clear any existing timeout.
      timeout_id && clearTimeout( timeout_id );
      
      if ( debounce_mode === undefined && elapsed > delay ) {
        // In throttle mode, if `delay` time has been exceeded, execute
        // `callback`.
        exec();
        
      } else if ( no_trailing !== true ) {
        // In trailing throttle mode, since `delay` time has not been
        // exceeded, schedule `callback` to execute `delay` ms after most
        // recent execution.
        // 
        // If `debounce_mode` is true (at_begin), schedule `clear` to execute
        // after `delay` ms.
        // 
        // If `debounce_mode` is false (at end), schedule `callback` to
        // execute after `delay` ms.
        timeout_id = setTimeout( debounce_mode ? clear : exec, debounce_mode === undefined ? delay - elapsed : delay );
      }
    };
    
    // Set the guid of `wrapper` function to the same of original callback, so
    // it can be removed in jQuery 1.4+ .unbind or .die by using the original
    // callback as a reference.
    if ( $.guid ) {
      wrapper.guid = callback.guid = callback.guid || $.guid++;
    }
    
    // Return the wrapper function.
    return wrapper;
  };

let interval = 2;

$(canvas).on('mousedown', function(e)
    {  
        console.log("wham")
    const div = document.getElementById("dog-image-container")
    let oldcanvas = document.createElement("CANVAS");
    let context = oldcanvas.getContext("2d");
    context.fillStyle = "black";
    oldcanvas.width = canvas.width
    oldcanvas.height = canvas.height
    context.drawImage(canvas,0,0)
    oldcanvas.hidden = true


    // const imageData = canvas_context.getImageData(0, 0, canvas.width, canvas.height);
    //         const data = imageData.data;
    //         for (var i = 0; i < data.length; i += 4) {
    //             data[i]     = (Math.random()+.5)*data[i];     // red
    //             data[i + 1] = (Math.random()+.5)*data[i + 1]; // green
    //             data[i + 2] =  (Math.random()+.5)*data[i + 2]; // blue
    //         }
    //         canvas_context.putImageData(imageData, 0, 0);
    clicks++

    if(reandomcolormaker == 1){
        bigcolor = getRandomLightColor()
    }

    div.appendChild(oldcanvas)
    undos.push(oldcanvas)
    $(canvas)
    .on('mousemove', $.throttle(interval, function(e)
    {  
        
      flex = canvas.getBoundingClientRect();
      xs = e.clientX - flex.left;
      ys = e.clientY - flex.top;
      tip.x = xs
      tip.y = ys
      tip.body = tip
  
  
      if(typeof oldcirc.radius != 'number'){
          oldcirc = circ
          oldcirc.x = tip.x
          oldcirc.y = tip.y
      }
  
          oldcirc = circ
           circ = new Bosscircle(tip.x,tip.y, bigradius, bigcolor)
          circ.spindraw(oldcirc)
      
  
    }))
    });
    
$(window).on('mouseup', function () {
    $(canvas).off('mousemove');
//   alert("ok, removed");
 oldcirc = {x: 350, y:350}
});
    </script>
            </div id="go">
        </div>

        <!-- Right side banner. No content for now. Perhaps ad-space in the future. -->
        <aside class="gamepage-right-aside">
            <!-- Add content here later. -->
        </aside>
    </div>

    <!-- Simple footer. Just a copyright notice. -->
    <footer class="games-footer">
    </footer>

</div>

</html>